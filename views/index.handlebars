<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NST Application</title>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css'>
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body>
    <div class="container-fluid p-0">
        <nav class="navbar bg-dark navbar-dark">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                Neural Style Transfer Application
              </a>
            </div>
        </nav>
        <div class="container-fluid mt-1">
            <div class="row d-flex justify-content-center">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="card">
                        <div class="card-body row d-flex justify-content-center align-items-center">
                            <div class="col-lg-2 col-md-6 col-sm-12">
                                <div class="card card-select">
                                    <div class="card-body">
                                        <label>Optimizer Used <i class="fa fa-info-circle mx-2" id="optimizer-help"></i></label>
                                        <select name="" id="" class="form-select-lg form-select-sm">
                                            <option value="">Select Optimizer</option>
                                        </select>
                                       
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-6 col-sm-12 my-2">
                                <div class="card">
                                    <div class="card-body">
                                        <label>Number of iterations <i class="fa fa-info-circle mx-2" id="iterations-help"></i></label>
                                        <input type="range" class="form-range" name="" id="" min="1000" max="100000" step="1000">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6 col-sm-12 my-2">
                                <div class="card">
                                    <div class="card-body">
                                        <label>Style Loss Constant<i class="fa fa-info-circle mx-2" id="style_weight-help"></i></label>
                                        <input type="range" class="form-range" name="" id="" min="0" max="1" step="0.001">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6 col-sm-12 my-2">
                                <div class="card">
                                    <div class="card-body">
                                        <label>Content Loss Constant <i class="fa fa-info-circle mx-2" id="content_weight-help"></i></label>
                                        <input type="range" class="form-range" name="" id="" min="0" max="1" step="0.001">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-6 col-sm-12 my-2">
                                <button class="btn btn-primary" id="change-params">Change Params</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row d-flex justify-content-center mt-1">
                <form action="/transform" method="post" enctype="multipart/form-data" id="image-form">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="row d-flex justify-content-center">
                            <div class="col-lg-5 col-md-12 col-sm-12 pe-md-1 pe-sm-1">
                                <div class="row mb-2">
                                    <div class="col-lg-12 col-md-12 col-sm-12 d-flex align-items-center">
                                        <input type="hidden" name="request_id" id="request_id">
                                        <input type="hidden" name="content_image_name" id="content_image_name">
                                        <input type="hidden" name="style_image_name" id="style_image_name">
                                        <div class="card w-100">
                                            <img src="./img/Placeholder_view_vector.svg" class="card-img-top" alt="" id="style_image_preview">
                                            <div class="card-body">
                                                <div class="form-group row d-flex align-items-center">
                                                    <div class="col-auto">
                                                        <label for="upload_style_image">Style Image</label>
                                                    </div>
                                                   <div class="col-auto">
                                                        <input type="file" name="style_image" id="upload_style_image" class="form-control" required>
                                                   </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-12 col-md-12 col-sm-12 d-flex align-items-center">
                                        <div class="card w-100">
                                            <img src="./img/Placeholder_view_vector.svg" class="card-img-top" alt="" id="content_image_preview">
                                            <div class="card-body">
                                                <div class="form-group row d-flex align-items-center">
                                                    <div class="col-auto">
                                                        <label for="upload_content_image">Content Image</label>
                                                    </div>
                                                    <div class="col-auto">
                                                        <input type="file" name="content_image" id="upload_content_image" class="form-control" required>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-1 col-md-12 col-sm-12 d-flex justify-content-center align-items-center">
                                <button type="submit" class="btn btn-outline-primary" id="transform">
                                    <i class="fa-solid fa-equals large"></i>
                                </button>
                            </div>
                            <div class="col-lg-6 col-md-12 col-sm-12 ps-md-1 ps-sm-1 d-flex align-items-center mt-1">
                                <div class="row mb-2 w-100 mx-0">
                                    <div class="card w-100">
                                        <img src="./img/Placeholder_view_vector.svg" class="card-img-top" alt="..." id="result_image_preview">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal" tabindex="-1" id="help-modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title"><span id="topic"></span></h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p id="desc"></p>
            </div>
          </div>
        </div>
    </div>
    <svg style="display:none">
        <defs>
          <symbol id="icon-imageUpload" clip-rule="evenodd" viewBox="0 0 96 96">
            <path d="M47 6a21 21 0 0 0-12.3 3.8c-2.7 2.1-4.4 5-4.7 7.1-5.8 1.2-10.3 5.6-10.3 10.6 0 6 5.8 11 13 11h12.6V22.7l-7.1 6.8c-.4.3-.9.5-1.4.5-1 0-2-.8-2-1.7 0-.4.3-.9.6-1.2l10.3-8.8c.3-.4.8-.6 1.3-.6.6 0 1 .2 1.4.6l10.2 8.8c.4.3.6.8.6 1.2 0 1-.9 1.7-2 1.7-.5 0-1-.2-1.3-.5l-7.2-6.8v15.6h14.4c6.1 0 11.2-4.1 11.2-9.4 0-5-4-8.8-9.5-9.4C63.8 11.8 56 5.8 47 6Zm-1.7 42.7V38.4h3.4v10.3c0 .8-.7 1.5-1.7 1.5s-1.7-.7-1.7-1.5Z M27 49c-4 0-7 2-7 6v29c0 3 3 6 6 6h42c3 0 6-3 6-6V55c0-4-3-6-7-6H28Zm41 3c1 0 3 1 3 3v19l-13-6a2 2 0 0 0-2 0L44 79l-10-5a2 2 0 0 0-2 0l-9 7V55c0-2 2-3 4-3h41Z M40 62c0 2-2 4-5 4s-5-2-5-4 2-4 5-4 5 2 5 4Z"/>
          </symbol>
        </defs>
    </svg>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script>
        const message = `{{msg}}`;
        const data = `{{{data}}}`.length !== 0 ? JSON.parse(`{{{data}}}`) : null
    </script>
    <script src="scripts/index.js"></script>
</body>
</html>